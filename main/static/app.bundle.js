webpackJsonp([0],{0:function(t,exports,n){n(1),t.exports=n(298)},298:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var r=n(299),l=e(r),o=n(301),a=e(o),d=n(371),i=e(d),c=n(394),s=e(c);l.default.module("app",[a.default,i.default]).config(["$locationProvider",function(t){"ngInject";t.html5Mode(!0).hashPrefix("!")}]).component("app",s.default)},371:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(299),l=e(r),o=n(372),a=e(o),d=l.default.module("app.components",[a.default]).name;exports.default=d},372:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(299),l=e(r),o=n(301),a=e(o),d=n(373),i=e(d),c=n(374),s=e(c),p=n(383),u=e(p);n(392);var y=l.default.module("home",[a.default,"ui.bootstrap",i.default,s.default]).config(["$stateProvider","$urlRouterProvider",function(t,n){"ngInject";n.otherwise("/"),t.state("home",{url:"/",component:"home"})}]).component("home",u.default,i.default).name;exports.default=y},374:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(299),l=e(r),o=n(375),a=e(o),d=l.default.module("home",[]).config(function(t){}).component("trRow",a.default).name;exports.default=d},375:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(376),l=e(r),o=n(377),a=e(o);n(379);var d={restrict:"A",bindings:{ble:"=",printable:"=",styles:"="},template:l.default,controller:["$scope",a.default]};exports.default=d},376:function(t,exports){t.exports='<td ng-style="$ctrl.styles" ng-change="$ctrl.cos()" ng-model="$ctrl.ble">cccccccccccccccc</td>\r\n'},377:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(378),l=e(r),o=function t(n){function e(){console.log(r.ble)}(0,l.default)(this,t);var r=this;n.$watch("$ctrl.styles",function(t){console.log("AAA"+r.styles+"  "+t)}),r.cos=e};exports.default=o},379:function(t,exports,n){var e=n(380);"string"==typeof e&&(e=[[t.id,e,""]]);n(382)(e,{});e.locals&&(t.exports=e.locals)},380:function(t,exports,n){exports=t.exports=n(381)(),exports.push([t.id,".about{color:red}",""])},383:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(384),l=e(r),o=n(385),a=e(o);n(390);var d={restrict:"E",bindings:{},template:l.default,controller:["$scope","$http","FileSaver",a.default]};exports.default=d},384:function(t,exports){t.exports='<div id=\'timetable\' class="container">\r\n    <table class="table table-striped">\r\n        <tbody>\r\n        <tr style="width:130px">\r\n            <th>\r\n                <div style="width:130px" class="dropdown">\r\n                    <button style="width:130px" class="btn btn-default dropdown-toggle" type="button"\r\n                            data-toggle="dropdown">\r\n                        {{$ctrl.currentShop}}\r\n                    </button>\r\n                    <ul style="width:130px" class="dropdown-menu" ng-model="$ctrl.availableShops">\r\n                        <li ng-click=\'$ctrl.changeShop(shop)\' ng-repeat="shop in $ctrl.availableShops"><a\r\n                                href="#">{{shop}}</a></li>\r\n                    </ul>\r\n                </div>\r\n            </th>\r\n            <th style=\'vertical-align: bottom; width:20px;\' rowspan="3"> D</th>\r\n            <th ng-repeat="i in $ctrl.employees track by $index" colspan="4"> Pracownik</th>\r\n            <th>\r\n                <button class="btn btn-default" type="button" ng-click="$ctrl.exportExcel()">eksportuj excel</button>\r\n            </th>\r\n            <th>\r\n                <button class="btn btn-default" type="button" ng-click="$ctrl.printFile()">drukuj</button>\r\n            </th>\r\n        </tr>\r\n        <tr style="width:140px">\r\n            <th>\r\n                <div style="width:130px" class="dropdown">\r\n                    <button style="width:130px" class="btn btn-default dropdown-toggle" type="button"\r\n                            data-toggle="dropdown">\r\n                        {{$ctrl.selected}}\r\n                    </button>\r\n                    <ul style="width:130px" class="dropdown-menu" ng-model="$ctrl.months">\r\n                        <li ng-click=\'$ctrl.changeMonth(month)\' ng-repeat="month in $ctrl.months"><a\r\n                                href="#">{{month}}</a></li>\r\n                    </ul>\r\n                </div>\r\n            </th>\r\n            <th ng-repeat="i in $ctrl.employees track by $index" colspan="4">\r\n                {{i.name}}\r\n            </th>\r\n        </tr>\r\n        <tr>\r\n            <th><input ng-change=\'$ctrl.changeYear()\'\r\n                       class="form-control"\r\n                       ng-model="$ctrl.year"\r\n                       type="number"> </input>\r\n            </th>\r\n            <th ng-repeat-start="i in $ctrl.employees track by $index">\r\n                od\r\n            </th>\r\n            <th> do</th>\r\n            <th> H</th>\r\n            <th ng-repeat-end>\r\n                Podpis\r\n            </th>\r\n        </tr>\r\n        <tr ng-repeat=\'i in $ctrl.numberOfDays track by $index\'\r\n            ng-style="$ctrl.setRowStyle(i)">\r\n            <td ng-click=\'$ctrl.setHoliday($index)\'>{{i.day}}</td>\r\n            <td>{{$index +1}}</td>\r\n            <td ng-repeat-start="emp in $ctrl.employees track by $index">\r\n\r\n                <input ng-style="$ctrl.setRowStyle(i)"\r\n                       ng-disabled="i.isHoliday"\r\n                       ng-change="$ctrl.countSum(emp, $parent.$index)"\r\n                       ng-model=\'emp.from[$parent.$index]\'\r\n                       class="form-control-hours" min="0" max="23" type="number"> </input></td>\r\n            <td><input ng-style="$ctrl.setRowStyle(i)"\r\n                       ng-disabled="i.isHoliday"\r\n                       ng-change="$ctrl.countSum(emp, $parent.$index)"\r\n                       ng-model=\'emp.to[$parent.$index]\' min="0" max="23"\r\n                       class="form-control-hours" type="number"> </input></td>\r\n            <td>{{emp.sum[$parent.$index]}}</td>\r\n            <td ng-repeat-end><span ng-if="!emp.sum[$parent.$index]">X</span></td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="2">H/m-c:</td>\r\n            <td colspan="4" ng-repeat="emp in $ctrl.employees track by $index">\r\n                Suma H\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="2">{{$ctrl.hoursPerMonth}}</td>\r\n            <td colspan="4" ng-repeat="emp in $ctrl.employees track by $index">\r\n                {{emp.totalSum}}\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="2">Pozostało H:</td>\r\n            <td colspan="4" ng-repeat="emp in $ctrl.employees track by $index">\r\n                {{emp.totalSum - $ctrl.hoursPerMonth }}\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="6" style="text-align: left;padding-left:10px">Legenda:</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="1" style="text-align: center;background-color:red">DUW</td>\r\n            <td colspan="5" style="text-align: left;padding-left:10px">- dni ustawowo wolne</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="1" style="text-align: center;background-color:yellow">ZW</td>\r\n            <td colspan="5" style="text-align: left;padding-left:10px">- zadeklarowane wolne</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="1" style="text-align: center;background-color:#D3D3D3"></td>\r\n            <td colspan="5" style="text-align: left;padding-left:10px">weekend</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="1" style="text-align: center;background-color:hotpink">U</td>\r\n            <td colspan="5" style="text-align: left;padding-left:10px">- urlop</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="1" style="text-align: center;background-color:green">L4</td>\r\n            <td colspan="5" style="text-align: left;padding-left:10px">- L4</td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <!--<div id="toPrint" ng-show=\'false\'>-->\r\n        <!--<table>-->\r\n            <!--<tbody>-->\r\n            <!--<tr>-->\r\n                <!--<th ng-style="$ctrl.printStyle">{{$ctrl.salonName}}</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle" rowspan="3"> D</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle" ng-repeat="i in $ctrl.employees track by $index" colspan="4">-->\r\n                    <!--Pracownik-->\r\n                <!--</th>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<th ng-style="$ctrl.printStyle"> {{$ctrl.selected}}</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle" ng-repeat="i in $ctrl.employees track by $index" colspan="4">-->\r\n                    <!--{{i.id}}-->\r\n                <!--</th>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<th ng-style="$ctrl.printStyle">{{$ctrl.year}}</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle" ng-repeat-start="i in $ctrl.employees track by $index">-->\r\n                    <!--od-->\r\n                <!--</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle"> do</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle"> H</th>-->\r\n                <!--<th ng-style="$ctrl.printStyle" ng-repeat-end>-->\r\n                    <!--Podpis-->\r\n                <!--</th>-->\r\n            <!--</tr>-->\r\n            <!--<tr ng-repeat=\'i in $ctrl.numberOfDays track by $index\'>-->\r\n                <!--<td ng-style="$ctrl.printStyle">{{i.day}}</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle">{{$index +1}}</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" ng-repeat-start="emp in $ctrl.employees track by $index">-->\r\n                    <!--{{emp.from[$parent.$index]}}-->\r\n                <!--</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle">{{emp.to[$parent.$index]}}</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle">{{emp.sum[$parent.$index]}}</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" ng-repeat-end><span ng-if="!emp.sum[$parent.$index]">X</span></td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="2">H/m-c:</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="4" ng-repeat="emp in $ctrl.employees track by $index">-->\r\n                    <!--Suma H-->\r\n                <!--</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="2">{{$ctrl.hoursPerMonth}}</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="4" ng-repeat="emp in $ctrl.employees track by $index">-->\r\n                    <!--{{emp.totalSum}}-->\r\n                <!--</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="2">Pozostało H:</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="4" ng-repeat="emp in $ctrl.employees track by $index">-->\r\n                    <!--{{emp.totalSum - $ctrl.hoursPerMonth }}-->\r\n                <!--</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="6" style="text-align: left;padding-left:10px">Legenda:</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="1" style="text-align: center;background-color:red">DUW</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="5" style="text-align: left;padding-left:10px">- dni ustawowo-->\r\n                    <!--wolne-->\r\n                <!--</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="1" style="text-align: center;background-color:yellow">ZW</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="5" style="text-align: left;padding-left:10px">- zadeklarowane-->\r\n                    <!--wolne-->\r\n                <!--</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="1" style="text-align: center;background-color:#D3D3D3"></td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="5" style="text-align: left;padding-left:10px">weekend</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="1" style="text-align: center;background-color:hotpink">U</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="5" style="text-align: left;padding-left:10px">- urlop</td>-->\r\n            <!--</tr>-->\r\n            <!--<tr>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="1" style="text-align: center;background-color:green">L4</td>-->\r\n                <!--<td ng-style="$ctrl.printStyle" colspan="5" style="text-align: left;padding-left:10px">/- L4</td>-->\r\n            <!--</tr>-->\r\n            <!--</tbody>-->\r\n        <!--</table>-->\r\n    <!--</div>-->\r\n</div>'},385:function(t,exports,n){"use strict";function e(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(378),o=r(l),a=n(386),d=e(a),i=n(388),c=e(i),s=n(389),p=r(s),u=[new p.default("1"),new p.default("2"),new p.default("3"),new p.default("4"),new p.default("5"),new p.default("6")],y=function t(n,e,r){function l(t){w.numberOfDays[t].isHoliday=!w.numberOfDays[t].isHoliday,w.hoursPerMonth=8*(c.countWorkdays(w.numberOfDays)-c.countHolidays(w.numberOfDays))}function a(t){return t.isHoliday?{"background-color":"red"}:c.isWeekend(t.day)?{"background-color":"#D3D3D3"}:void 0}function i(t){w.selected=t,x(),m(),w.hoursPerMonth=8*c.countWorkdays(w.numberOfDays)}function s(t){w.currentShop=t,x(),m()}function y(t,n){return new Date(n,t,0).getDate()}function f(){var t=document.getElementById("toPrint").innerHTML,n=new Blob(["\ufeff"+t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=windows-1252s"});r.saveAs(n,"report.xls")}function g(){var t="<html>";t+=document.getElementById("toPrint").innerHTML,t+="</html>";var n=window.open("","","left=0,top=0,width=1,height=1,toolbar=0,scrollbars=0,status  =0");n.document.write(t),n.document.close(),n.focus(),n.print(),n.close()}function h(t,n){var e=t.to&&t.to[n]?t.to[n]:0,r=t.from&&t.from[n]?t.from[n]:0;t.sum[n]=e-r,t.totalSum=t.sum.reduce(function(t,n){return t+n})}function m(){var t=w.months.indexOf(w.selected);w.numberOfDays=[];for(var n=y(t+1,w.year),e=new Date(w.year,t).getDay(),r=0;r<n;r++)w.numberOfDays.push({day:""+w.daysOfWeek[(e+r)%7],isHoliday:!1})}function b(){x(),m(),w.hoursPerMonth=8*c.countWorkdays(w.numberOfDays)}function x(){d.each(w.employees,function(t){t.from=null,t.to=null,t.sum=[],t.totalSum=0})}(0,o.default)(this,t);var w=this;w.currentShop="",w.availableShops=[],w.employees=[],e.get("http://localhost:5000/admin/table/get").then(function(t){w.currentShop=t.data.currentShop.name,w.employees=d.map(t.data.employees,function(t){return new p.default(t.id,t.name)}),w.availableShops=d.map(t.data.availableShops,function(t){return t.name}),console.log(t)}),e.post("http://localhost:5000/admin/table/add",{msg:"hello word!"}).then(function(t){console.log(t)}),w.months=c.months,w.daysOfWeek=c.daysOfWeek,w.numberOfDays=[],w.print=!0,w.printStyle={border:"0.1pt  solid #808080",padding:"0px",margin:"0px","text-align":"middle"},w.employees=u,w.selected=w.months[(new Date).getMonth()],w.year=(new Date).getFullYear(),m(),w.hoursPerMonth=8*c.countWorkdays(w.numberOfDays),w.countSum=h,w.exportExcel=f,w.printFile=g,w.changeMonth=i,w.changeShop=s,w.changeYear=b,w.setRowStyle=a,w.setHoliday=l};exports.default=y},388:function(t,exports){"use strict";function n(t){return"sobota"===t||"niedziela"===t}function e(t){return t.reduce(function(t,n){var e=n.isHoliday&&"niedziela"!==n.day?t+1:t;return e},0)}function r(t){return t.reduce(function(t,e){var r=n(e.day)?t:t+1;return r},0)}Object.defineProperty(exports,"__esModule",{value:!0});var l=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],o=["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"];exports.months=l,exports.daysOfWeek=o,exports.isWeekend=n,exports.countHolidays=e,exports.countWorkdays=r},389:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(378),l=e(r),o=function t(n,e){(0,l.default)(this,t),this.id=n,this.name=e,this.from=null,this.to=null,this.sum=[],this.totalSum=0};exports.default=o},390:function(t,exports,n){var e=n(391);"string"==typeof e&&(e=[[t.id,e,""]]);n(382)(e,{});e.locals&&(t.exports=e.locals)},391:function(t,exports,n){exports=t.exports=n(381)(),exports.push([t.id,"table,td,th{border:1px solid grey;border-collapse:collapse}.table{width:20px;overflow:scroll;margin-top:30px}.btn-default{border-color:#fff;border-radius:0}.table>tbody>tr>td{padding:0;text-align:center}.form-control-hours{width:60px}.table>tbody>tr>th{padding:0;text-align:center;vertical-align:0}table tr:nth-child(2n),table tr:nth-child(odd){background-color:#fff}td input,th input{box-sizing:border-box;border:0;text-align:center}.form-control{border:0}td select,th select{width:100%;box-sizing:border-box}",""])},394:function(t,exports,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=n(395),l=e(r);n(396);var o={template:l.default,restrict:"E"};exports.default=o},395:function(t,exports){t.exports='<div class="app">\r\n  <div ui-view></div>\r\n</div>\r\n'},396:function(t,exports,n){var e=n(397);"string"==typeof e&&(e=[[t.id,e,""]]);n(382)(e,{});e.locals&&(t.exports=e.locals)},397:function(t,exports,n){exports=t.exports=n(381)(),exports.push([t.id,"body{margin:0}",""])}});
//# sourceMappingURL=app.bundle.js.map